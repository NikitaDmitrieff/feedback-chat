# ──────────────────────────────────────────────
# Required — GitHub integration
# ──────────────────────────────────────────────
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
GITHUB_REPO=owner/repo
WEBHOOK_SECRET=your-webhook-secret

# ──────────────────────────────────────────────
# Claude authentication (choose ONE)
# ──────────────────────────────────────────────

# Option A: Claude Max subscription ($0/run)
# Paste the full JSON from ~/.claude/.credentials.json
# When set, ANTHROPIC_API_KEY is automatically stripped from the CLI env
# so the CLI uses the OAuth token instead.
# CLAUDE_CREDENTIALS_JSON={"claudeAiOauth":{"accessToken":"...","refreshToken":"...","expiresAt":...,"scopes":["..."]}}

# Option B: API key (pay per token)
# ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ──────────────────────────────────────────────
# Optional — Agent configuration
# ──────────────────────────────────────────────

# Commands the agent runs in the cloned repo (defaults shown)
# AGENT_INSTALL_CMD=npm ci
# AGENT_BUILD_CMD=npm run build
# AGENT_LINT_CMD=npm run lint

# Timeout for a single Claude CLI invocation (ms, default: 900000 = 15 min)
# AGENT_CLAUDE_TIMEOUT_MS=900000

# Total budget for a complete job including retries (ms, default: 1500000 = 25 min)
# AGENT_JOB_BUDGET_MS=1500000

# Comma-separated env key patterns to forward into .env.local
# Supports trailing wildcards: NEXT_PUBLIC_* matches any key starting with NEXT_PUBLIC_
# AGENT_ENV_FORWARD=NEXT_PUBLIC_*,SUPABASE_*,STRIPE_*,ANTHROPIC_API_KEY,FEEDBACK_PASSWORD

# ──────────────────────────────────────────────
# Server
# ──────────────────────────────────────────────
# PORT=3000  # Railway sets this automatically
